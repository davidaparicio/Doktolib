# Windmill Helm Chart Values
# Configured for deployment on Qovery with external RDS Aurora PostgreSQL

windmill:
  # Database configuration - connect to RDS Aurora
  # This will be overridden by set_string in Terraform with actual database URL
  # Format: postgres://user:pass@host:5432/dbname?sslmode=require
  # databaseUrl: (set via Terraform)

  # Base URL for Windmill
  # This will be overridden by set_string in Terraform with actual external host
  # Format: https://windmill.example.com
  # baseUrl: (set via Terraform)

  # App replicas
  appReplicas: 1

  # Worker groups configuration
  workerGroups:
    - name: "default"
      replicas: 2
      resources:
        requests:
          cpu: 100m
          memory: 256Mi
        limits:
          cpu: 500m
          memory: 512Mi

  # LSP server for code completion
  lsp:
    replicas: 1
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi

  # Multiplayer server for real-time collaboration
  multiplayer:
    replicas: 1
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi

# PostgreSQL - Use external database (RDS Aurora)
postgresql:
  enabled: false

# Ingress configuration
ingress:
  enabled: false  # Qovery handles ingress

# Service configuration
service:
  type: ClusterIP
  port: 8000
