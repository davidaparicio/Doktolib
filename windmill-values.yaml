# Windmill Helm Chart Values
# Configured for deployment on Qovery with external RDS Aurora PostgreSQL

windmill:
  # Database configuration - connect to RDS Aurora
  # Windmill will read DATABASE_URL environment variable set by Qovery
  # No need to set databaseUrl here as it will be overridden by DATABASE_URL env var

  # Base URL for Windmill (set via WM_BASE_URL environment variable)
  # No need to set baseUrl here as it will be overridden by WM_BASE_URL env var

  # App replicas
  appReplicas: 1

  # Worker groups configuration
  workerGroups:
    - name: "default"
      replicas: 2
      resources:
        requests:
          cpu: 100m
          memory: 256Mi
        limits:
          cpu: 500m
          memory: 512Mi

  # LSP server for code completion
  lsp:
    replicas: 1
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi

  # Multiplayer server for real-time collaboration
  multiplayer:
    replicas: 1
    resources:
      requests:
        cpu: 100m
        memory: 128Mi
      limits:
        cpu: 200m
        memory: 256Mi

# PostgreSQL - Use external database (RDS Aurora)
postgresql:
  enabled: false

# Ingress configuration
ingress:
  enabled: false  # Qovery handles ingress

# Service configuration
service:
  type: ClusterIP
  port: 8000
